saveenv
fdt addr ${fdt_addr} && fdt get value bootargs /chosen bootargs
if env exists bootpart;then echo Booting from mmcblk0p${bootpart};else setenv bootpart 2;echo bootpart not set, default to ${bootpart};fi
load mmc 0:${bootpart} ${kernel_addr_r} boot/@@KERNEL_IMAGETYPE@@
setenv bootargs ${bootargs} root=@@ROOT_DEV_P@@${bootpart}
@@KERNEL_BOOTCMD@@ ${kernel_addr_r} - ${fdt_addr}
